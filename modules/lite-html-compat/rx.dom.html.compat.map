{"version":3,"file":"rx.lite.dom.html.compat.min.js","sources":["rx.lite.dom.html.compat.js"],"names":["factory","checkGlobal","value","Object","objectTypes","function","object","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","freeSelf","self","freeWindow","window","thisGlobal","this","root","Function","define","amd","Rx","require","call","exp","undefined","socketClose","socket","closingObserver","code","reason","onNext","onCompleted","close","Observable","ObservableBase","AbstractObserver","prototype","AnonymousObservable","internals","Subject","Observer","create","Disposable","CompositeDisposable","BinaryDisposable","SingleAssignmentDisposable","dom","Scheduler","DOM","inherits","hasOwnProperty","helpers","noop","isFunction","SocketObservable","__super__","state","url","protocol","open","_state","_url","_protocol","_open","_close","createOpenHandler","openHandler","e","removeEventListener","createMsgHandler","o","createErrHandler","onError","createCloseHandler","wasClean","SocketDisposable","msgFn","errFn","closeFn","_socket","_msgFn","_errFn","_closeFn","isDisposed","dispose","subscribeCore","WebSocket","msgHandler","errHandler","closeHandler","addEventListener","SocketObserver","next","x","readyState","OPEN","send","error","Error","completed","fromWebSocket","openObserver","TypeError","WorkerObserver","worker","postMessage","WorkerObservable","createMessageHandler","WorkerDisposable","w","_w","terminate","Worker","messageHandler","fromWorker","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","MutationObserverObservable","target","options","_target","_options","InnerDisposable","mutationObserver","_m","disconnect","observe","fromMutationObserver","CurrentPositionObservable","opts","_opts","navigator","geolocation","getCurrentPosition","data","WatchPositionObservable","WatchPositionDisposable","id","_id","clearWatch","watchId","watchPosition","geolocationOptions","navigation","publish","refCount","FromReaderObservable","readerFn","file","progressObserver","encoding","_readerFn","_file","_progressObserver","_encoding","createLoadHandler","p","result","createErrorHandler","createProgressHandler","FromReaderDisposable","reader","loadHandler","errorHandler","progressHandler","_r","_po","_lFn","_eFn","_pFn","FileReader","LOADING","abort","fromReader","asArrayBuffer","asBinaryString","asDataURL","asText"],"mappings":"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"}