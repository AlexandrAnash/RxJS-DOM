{"version":3,"file":"rx.lite.dom.min.js","sources":["rx.lite.dom.js"],"names":["factory","checkGlobal","value","Object","objectTypes","function","object","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","freeSelf","self","freeWindow","window","thisGlobal","this","root","Function","define","amd","Rx","require","call","exp","undefined","tryCatcherGen","tryCatchTarget","apply","arguments","e","errorObj","tryCatch","fn","isFunction","TypeError","CreateListenerDisposable","element","name","handler","useCapture","_e","_n","_fn","_u","addEventListener","isDisposed","createListener","Error","createEventListener","el","eventName","disposables","CompositeDisposable","toStr","prototype","toString","i","len","length","add","item","getXMLHttpRequest","XMLHttpRequest","progId","progIds","ActiveXObject","getCORSRequest","xhr","XDomainRequest","normalizeAjaxSuccessEvent","settings","response","responseText","responseType","JSON","parse","status","originalEvent","normalizeAjaxErrorEvent","type","socketClose","socket","closingObserver","code","reason","onNext","onCompleted","close","Observable","ObservableBase","AnonymousObservable","AbstractObserver","internals","Disposable","Observer","create","BinaryDisposable","SingleAssignmentDisposable","Subject","Scheduler","dom","DOM","hasOwnProperty","helpers","noop","inherits","dispose","removeEventListener","FromEventObservable","__super__","selector","_uc","createHandler","o","results","onError","subscribeCore","fromEvent","selectorFn","publish","refCount","events","PointerEvent","TouchEvent","split","ReadyObservable","ReadyDisposable","_o","_addedHandlers","document","readyState","setTimeout","ready","ajaxRequest","AjaxObservable","_settings","AjaxDisposable","parent","_xhr","_parent","_isDone","abort","ajax","options","method","crossDomain","async","headers","createXHR","normalizeError","normalizeSuccess","url","prop","hasContent","body","isDone","processResponse","err","user","open","password","header","setRequestHeader","upload","onload","progressObserver","onprogress","onerror","onabort","onreadystatechange","send","post","get","getJSON","map","x","destroy","trash","createElement","appendChild","innerHTML","jsonpRequest","id","observer","callbackId","jsonp","jsonpCallback","script","src","replace","data","called","onreadystatechanged","head","getElementsByTagName","documentElement","insertBefore","firstChild","SocketObservable","state","protocol","_state","_url","_protocol","_open","_close","createOpenHandler","openHandler","createMsgHandler","createErrHandler","createCloseHandler","wasClean","SocketDisposable","msgFn","errFn","closeFn","_socket","_msgFn","_errFn","_closeFn","WebSocket","msgHandler","errHandler","closeHandler","SocketObserver","next","OPEN","error","completed","fromWebSocket","openObserver","WorkerObserver","worker","_worker","postMessage","WorkerObservable","createMessageHandler","WorkerDisposable","w","_w","terminate","messageHandler","fromWebWorker","Worker","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","MutationObserverObservable","target","_target","_options","InnerDisposable","mutationObserver","_m","disconnect","observe","fromMutationObserver","CurrentPositionObservable","opts","_opts","navigator","geolocation","getCurrentPosition","WatchPositionObservable","WatchPositionDisposable","_id","clearWatch","watchId","watchPosition","geolocationOptions","navigation","FromReaderObservable","readerFn","file","encoding","_readerFn","_file","_progressObserver","_encoding","createLoadHandler","p","result","createErrorHandler","createProgressHandler","FromReaderDisposable","reader","loadHandler","errorHandler","progressHandler","_r","_po","_lFn","_eFn","_pFn","FileReader","LOADING","fromReader","asArrayBuffer","asBinaryString","asDataURL","asText","requestAnimFrame","cancelAnimFrame","requestAnimationFrame","cancelAnimationFrame","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","cb","clearTimeout","RequestAnimationFrameScheduler","scheduleAction","disposable","action","scheduler","setDisposable","_fixup","ClearDisposable","_method","schedule","_scheduleFuture","dueTime","microtask","clearMethod","handle","tasksByHandle","runTask","currentlyRunning","task","postMessageSupported","importScripts","isAsync","oldHandler","onmessage","onGlobalPostMessage","event","substring","MSG_PREFIX","scheduleMethod","nextHandle","PREFIX","mutations","forEach","mutation","attributeName","attributes","setAttribute","setImmediate","Math","random","attachEvent","MessageChannel","channel","port1","port2","scriptElement","parentNode","removeChild","MicroTaskScheduler"],"mappings":"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"}