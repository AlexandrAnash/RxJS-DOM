{"version":3,"file":"rx.lite.dom.min.js","sources":["rx.lite.dom.js"],"names":["factory","checkGlobal","value","Object","objectTypes","function","object","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","freeSelf","self","freeWindow","window","thisGlobal","this","root","Function","define","amd","Rx","require","call","exp","undefined","CreateListenerDisposable","element","name","handler","useCapture","_e","_n","_fn","_u","addEventListener","isDisposed","createListener","Error","createEventListener","el","eventName","disposables","CompositeDisposable","toStr","prototype","toString","i","len","length","add","item","getXMLHttpRequest","XMLHttpRequest","progId","progIds","ActiveXObject","e","getCORSRequest","xhr","XDomainRequest","normalizeAjaxSuccessEvent","settings","response","responseText","responseType","JSON","parse","status","originalEvent","normalizeAjaxErrorEvent","type","socketClose","socket","closingObserver","code","reason","onNext","onCompleted","close","Observable","ObservableBase","AnonymousObservable","AbstractObserver","internals","Disposable","Observer","create","BinaryDisposable","SingleAssignmentDisposable","Subject","Scheduler","dom","DOM","hasOwnProperty","isFunction","helpers","noop","inherits","dispose","removeEventListener","FromEventObservable","__super__","selector","_uc","createHandler","o","fn","results","arguments","tryCatch","apply","errorObj","onError","subscribeCore","fromEvent","selectorFn","publish","refCount","events","PointerEvent","TouchEvent","split","ReadyObservable","ReadyDisposable","_o","_addedHandlers","document","readyState","setTimeout","ready","ajaxRequest","AjaxObservable","_settings","AjaxDisposable","parent","_xhr","_parent","_isDone","abort","ajax","options","method","crossDomain","async","headers","createXHR","normalizeError","normalizeSuccess","url","prop","hasContent","body","isDone","processResponse","err","user","open","password","header","setRequestHeader","upload","onload","progressObserver","onprogress","onerror","onabort","onreadystatechange","send","post","get","getJSON","TypeError","map","x","destroy","trash","createElement","appendChild","innerHTML","jsonpRequest","id","observer","callbackId","jsonp","jsonpCallback","script","src","replace","data","called","onreadystatechanged","head","getElementsByTagName","documentElement","insertBefore","firstChild","SocketObservable","state","protocol","_state","_url","_protocol","_open","_close","createOpenHandler","openHandler","createMsgHandler","createErrHandler","createCloseHandler","wasClean","SocketDisposable","msgFn","errFn","closeFn","_socket","_msgFn","_errFn","_closeFn","WebSocket","msgHandler","errHandler","closeHandler","SocketObserver","next","OPEN","error","completed","fromWebSocket","openObserver","WorkerObserver","worker","_worker","postMessage","WorkerObservable","createMessageHandler","WorkerDisposable","w","_w","terminate","messageHandler","fromWebWorker","Worker","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","MutationObserverObservable","target","_target","_options","InnerDisposable","mutationObserver","_m","disconnect","observe","fromMutationObserver","CurrentPositionObservable","opts","_opts","navigator","geolocation","getCurrentPosition","WatchPositionObservable","WatchPositionDisposable","_id","clearWatch","watchId","watchPosition","geolocationOptions","navigation","FromReaderObservable","readerFn","file","encoding","_readerFn","_file","_progressObserver","_encoding","createLoadHandler","p","result","createErrorHandler","createProgressHandler","FromReaderDisposable","reader","loadHandler","errorHandler","progressHandler","_r","_po","_lFn","_eFn","_pFn","FileReader","LOADING","fromReader","asArrayBuffer","asBinaryString","asDataURL","asText","requestAnimFrame","cancelAnimFrame","requestAnimationFrame","cancelAnimationFrame","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","cb","clearTimeout","RequestAnimationFrameScheduler","scheduleAction","disposable","action","scheduler","setDisposable","_fixup","ClearDisposable","_method","schedule","_scheduleFuture","dueTime","microtask","clearMethod","handle","tasksByHandle","runTask","currentlyRunning","task","postMessageSupported","importScripts","isAsync","oldHandler","onmessage","onGlobalPostMessage","event","substring","MSG_PREFIX","scheduleMethod","nextHandle","PREFIX","mutations","forEach","mutation","attributeName","attributes","setAttribute","setImmediate","Math","random","attachEvent","MessageChannel","channel","port1","port2","scriptElement","parentNode","removeChild","MicroTaskScheduler"],"mappings":"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"}