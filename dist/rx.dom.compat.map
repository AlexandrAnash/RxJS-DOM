{"version":3,"file":"rx.dom.compat.min.js","sources":["rx.dom.compat.js"],"names":["factory","objectTypes","boolean","function","object","number","string","undefined","root","window","this","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","define","amd","Rx","require","call","exp","isNodeList","el","StaticNodeList","NodeList","Object","prototype","toString","fixEvent","event","stopPropagation","cancelBubble","preventDefault","bubbledKeyCode","keyCode","ctrlKey","e","defaultPrevented","returnValue","modified","target","srcElement","type","relatedTarget","fromElement","toElement","c","charCode","keyChar","String","fromCharCode","createListener","element","name","handler","useCapture","addEventListener","disposableCreate","removeEventListener","attachEvent","innerHandler","detachEvent","createEventListener","eventName","disposables","CompositeDisposable","i","len","length","add","item","getXMLHttpRequest","XMLHttpRequest","progId","progIds","ActiveXObject","Error","getCORSRequest","xhr","XDomainRequest","normalizeAjaxLoadEvent","settings","response","responseText","responseType","JSON","parse","status","originalEvent","normalizeAjaxErrorEvent","Observable","AnonymousObservable","observerCreate","Observer","create","observableCreate","Disposable","SingleAssignmentDisposable","AsyncSubject","Subject","Scheduler","defaultNow","Date","now","dom","DOM","hasOwnProperty","noop","helpers","isFunction","fromEvent","selector","selectorFn","observer","results","arguments","tryCatch","apply","errorObj","onError","onNext","publish","refCount","events","PointerEvent","TouchEvent","split","ready","onCompleted","document","returnFn","readyState","setTimeout","ajaxRequest","ajax","options","method","crossDomain","contentType","async","headers","url","prop","hasContent","body","isDone","err","user","open","password","header","setRequestHeader","upload","onload","progressObserver","onprogress","onerror","onabort","onreadystatechange","send","abort","post","get","getJSON","TypeError","map","x","destroy","trash","createElement","appendChild","innerHTML","jsonpRequest","id","callbackId","jsonp","jsonpCallback","script","src","replace","data","called","onreadystatechanged","head","getElementsByTagName","documentElement","insertBefore","firstChild","fromWebSocket","protocol","openObserver","closingObserver","socketClose","code","reason","socket","close","WebSocket","observable","obs","openHandler","messageHandler","errHandler","closeHandler","wasClean","OPEN","fromWebWorker","Worker","worker","postMessage","fromEventSource","EventSource","onOpen","source","CLOSED","onMessage","fromMutationObserver","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","mutationObserver","bind","observe","disconnect","requestAnimFrame","cancelAnimFrame","requestAnimationFrame","cancelAnimationFrame","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","cb","clearTimeout","scheduleNow","state","action","scheduler","disposable","isDisposed","setDisposable","scheduleRelative","dueTime","dt","normalize","scheduleWithState","scheduleAbsolute","scheduleWithRelativeAndState","microtask","clearMethod","handle","tasksByHandle","runTask","currentlyRunning","task","postMessageSupported","importScripts","isAsync","oldHandler","onmessage","onGlobalPostMessage","substring","MSG_PREFIX","scheduleMethod","nextHandle","PREFIX","mutations","forEach","mutation","attributeName","attributes","setAttribute","setImmediate","Math","random","currentId","MessageChannel","channel","port1","port2","scriptElement","parentNode","removeChild","geolocation","getCurrentPosition","geolocationOptions","navigator","navigation","watchPosition","watchId","clearWatch","fromReader","file","_fromReader","readerFn","encoding","loadHandler","subject","result","errorHandler","error","progressHandler","reader","FileReader","subscribe","LOADING","asArrayBuffer","asBinaryString","asDataURL","asText"],"mappings":"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"}