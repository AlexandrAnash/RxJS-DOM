{"version":3,"file":"rx.dom.compat.min.js","sources":["rx.dom.compat.js"],"names":["factory","objectTypes","boolean","function","object","number","string","undefined","root","window","this","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","define","amd","Rx","require","call","exp","fixEvent","event","stopPropagation","cancelBubble","preventDefault","bubbledKeyCode","keyCode","ctrlKey","e","defaultPrevented","returnValue","modified","target","srcElement","type","relatedTarget","fromElement","toElement","c","charCode","keyChar","String","fromCharCode","createListener","element","name","handler","addEventListener","disposableCreate","removeEventListener","attachEvent","innerHandler","detachEvent","createEventListener","el","eventName","disposables","CompositeDisposable","Object","prototype","toString","i","len","length","add","item","getXMLHttpRequest","XMLHttpRequest","progId","progIds","ActiveXObject","Error","getCORSRequest","XDomainRequest","Observable","AnonymousObservable","observerCreate","Observer","create","Disposable","SingleAssignmentDisposable","AsyncSubject","Subject","Scheduler","defaultNow","Date","now","dom","DOM","hasOwnProperty","noop","helpers","fromEvent","selector","observer","results","arguments","err","onError","onNext","publish","refCount","events","PointerEvent","TouchEvent","split","ready","onCompleted","document","returnFn","readyState","setTimeout","ajaxRequest","ajax","settings","method","url","async","contentType","crossDomain","hasContent","body","headers","xhr","isDone","user","open","password","header","setRequestHeader","onreadystatechange","onload","status","onerror","send","abort","post","observableGet","get","getJSON","JSON","parse","TypeError","map","responseText","destroy","trash","createElement","appendChild","innerHTML","jsonpRequest","uniqueId","defaultCallback","data","jsonp","head","getElementsByTagName","documentElement","tag","jsonpCallback","replace","RegExp","existing","recursed","cleanup","parentNode","src","_","test","insertBefore","firstChild","fromWebSocket","protocol","openObserver","closingObserver","WebSocket","socket","socketClose","code","reason","close","observable","obs","openHandler","messageHandler","errHandler","closeHandler","wasClean","OPEN","fromWebWorker","Worker","worker","postMessage","fromEventSource","EventSource","onOpen","source","CLOSED","onMessage","fromMutationObserver","options","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","observableCreate","mutationObserver","bind","observe","disconnect","requestAnimFrame","cancelAnimFrame","requestAnimationFrame","cancelAnimationFrame","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","cb","clearTimeout","scheduleNow","state","action","scheduler","disposable","id","isDisposed","setDisposable","scheduleRelative","dueTime","dt","normalize","scheduleWithState","scheduleAbsolute","scheduleWithRelativeAndState","microtask","postMessageSupported","importScripts","isAsync","oldHandler","onmessage","scheduleMethod","clearMethod","tasks","Array","taskId","setImmediate","clearImmediate","toProcess","queue","slice","forEach","func","attributes","queueId","setAttribute","MSG_PREFIX","Math","random","onGlobalPostMessage","substring","handleId","currentId","MessageChannel","channel","port1","port2","scriptElement","removeChild","localSetTimeout","localClearTimeout","geolocation","getCurrentPosition","geolocationOptions","navigator","navigation","watchPosition","watchId","clearWatch","fromReader","file","progressObserver","_fromReader","readerFn","encoding","loadHandler","subject","result","errorHandler","error","progressHandler","reader","FileReader","subscribe","LOADING","asArrayBuffer","asBinaryString","asDataURL","asText"],"mappings":"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"}