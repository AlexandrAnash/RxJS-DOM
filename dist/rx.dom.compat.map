{"version":3,"file":"rx.dom.compat.min.js","sources":["rx.dom.compat.js"],"names":["factory","objectTypes","boolean","function","object","number","string","undefined","root","window","this","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","define","amd","Rx","require","call","exp","fixEvent","event","stopPropagation","cancelBubble","preventDefault","bubbledKeyCode","keyCode","ctrlKey","e","defaultPrevented","returnValue","modified","target","srcElement","type","relatedTarget","fromElement","toElement","c","charCode","keyChar","String","fromCharCode","createListener","element","name","handler","addEventListener","disposableCreate","removeEventListener","attachEvent","innerHandler","detachEvent","createEventListener","el","eventName","disposables","CompositeDisposable","Object","prototype","toString","i","len","length","add","item","getXMLHttpRequest","XMLHttpRequest","progId","progIds","ActiveXObject","Error","getCORSRequest","XDomainRequest","normalizeAjaxLoadEvent","xhr","settings","response","responseType","JSON","parse","responseText","status","originalEvent","normalizeAjaxErrorEvent","Observable","AnonymousObservable","observerCreate","Observer","create","Disposable","SingleAssignmentDisposable","AsyncSubject","Subject","Scheduler","defaultNow","Date","now","dom","DOM","hasOwnProperty","noop","helpers","fromEvent","selector","observer","results","arguments","err","onError","onNext","publish","refCount","events","PointerEvent","TouchEvent","split","ready","onCompleted","document","returnFn","readyState","setTimeout","ajaxRequest","ajax","options","method","crossDomain","contentType","async","headers","url","prop","hasContent","body","isDone","user","open","password","header","setRequestHeader","upload","onload","progressObserver","onprogress","onerror","onabort","onreadystatechange","send","abort","post","get","getJSON","TypeError","map","x","destroy","trash","createElement","appendChild","innerHTML","jsonpRequest","id","callbackId","jsonp","jsonpCallback","script","src","replace","data","called","onreadystatechanged","head","getElementsByTagName","documentElement","insertBefore","firstChild","fromWebSocket","protocol","openObserver","closingObserver","WebSocket","socket","socketClose","code","reason","close","observable","obs","openHandler","messageHandler","errHandler","closeHandler","wasClean","OPEN","fromWebWorker","Worker","worker","postMessage","fromEventSource","EventSource","onOpen","source","CLOSED","onMessage","fromMutationObserver","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","observableCreate","mutationObserver","bind","observe","disconnect","requestAnimFrame","cancelAnimFrame","requestAnimationFrame","cancelAnimationFrame","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","cb","clearTimeout","scheduleNow","state","action","scheduler","disposable","isDisposed","setDisposable","scheduleRelative","dueTime","dt","normalize","scheduleWithState","scheduleAbsolute","scheduleWithRelativeAndState","microtask","postMessageSupported","importScripts","isAsync","oldHandler","onmessage","scheduleMethod","clearMethod","tasks","Array","taskId","setImmediate","clearImmediate","toProcess","queue","slice","forEach","func","attributes","queueId","setAttribute","MSG_PREFIX","Math","random","onGlobalPostMessage","substring","handleId","currentId","MessageChannel","channel","port1","port2","scriptElement","parentNode","removeChild","localSetTimeout","localClearTimeout","geolocation","getCurrentPosition","geolocationOptions","navigator","navigation","watchPosition","watchId","clearWatch","fromReader","file","_fromReader","readerFn","encoding","loadHandler","subject","result","errorHandler","error","progressHandler","reader","FileReader","subscribe","LOADING","asArrayBuffer","asBinaryString","asDataURL","asText"],"mappings":"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"}